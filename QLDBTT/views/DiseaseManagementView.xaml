<UserControl x:Class="Disease_Disaster.Views.DiseaseManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White" Height="700" Width="1100">
	<Grid Margin="15">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<TextBlock Text="QUẢN LÝ DỊCH BỆNH ĐỘNG VẬT" FontSize="22" FontWeight="Bold" Foreground="#C0392B" Margin="0,0,0,15"/>

		<Border Grid.Row="1" BorderBrush="#DDD" BorderThickness="1" Padding="10" Background="#FDFEFE" Margin="0,0,0,10">
			<StackPanel Orientation="Horizontal">
				<Label Content="Tìm kiếm ổ dịch:" VerticalAlignment="Center"/>
				<TextBox x:Name="txtSearch" Width="300" Height="30" VerticalContentAlignment="Center" Margin="10,0"
                         TextChanged="txtSearch_TextChanged" ToolTip="Nhập tên dịch bệnh hoặc địa điểm..."/>

				<Button Content="🔍 Tìm Kiếm" Width="100" Height="30" Background="#3498DB" Foreground="White" Click="btnSearch_Click"/>

				<Button x:Name="btnMap" Content="🗺️ Xem Bản Đồ Vùng Dịch" Width="180" Height="30" Margin="15,0,0,0" 
                        Background="#F39C12" Foreground="White" FontWeight="Bold" Click="btnMap_Click"/>
			</StackPanel>
		</Border>

		<DataGrid x:Name="dgDisease" Grid.Row="2" AutoGenerateColumns="False" IsReadOnly="True" 
                  BorderBrush="#CCC" BorderThickness="1" RowHeight="40" SelectionMode="Single">
			<DataGrid.Columns>
				<DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
				<DataGridTextColumn Header="Tên Dịch Bệnh" Binding="{Binding TenBenh}" Width="200" FontWeight="Bold"/>
				<DataGridTextColumn Header="Địa Điểm" Binding="{Binding TenDonVi}" Width="150"/>
				<DataGridTextColumn Header="Ngày Phát Hiện" Binding="{Binding NgayPhatHien, StringFormat=dd/MM/yyyy}" Width="120"/>
				<DataGridTextColumn Header="Số Lượng" Binding="{Binding SoLuongMacBenh}" Width="80"/>
				<DataGridTextColumn Header="Trạng Thái" Binding="{Binding TrangThai}" Width="120"/>
				<DataGridCheckBoxColumn Header="Đã Tiêm Vaccine" Binding="{Binding DaTiemPhong}" Width="120"/>

				<DataGridTemplateColumn Header="Tác vụ" Width="100">
					<DataGridTemplateColumn.CellTemplate>
						<DataTemplate>
							<Button Content="❌ Xóa" Background="#E74C3C" Foreground="White" Click="btnDelete_Click"/>
						</DataTemplate>
					</DataGridTemplateColumn.CellTemplate>
				</DataGridTemplateColumn>
			</DataGrid.Columns>
		</DataGrid>

		<GroupBox Grid.Row="3" Header="Khai Báo Ổ Dịch Mới" Margin="0,15,0,0" BorderBrush="#C0392B" Foreground="#C0392B" FontWeight="Bold">
			<Grid Margin="10">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="120"/>
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>

				<Label Content="Loại bệnh:" Grid.Row="0" Grid.Column="0" Foreground="Black" FontWeight="Normal"/>
				<DockPanel Grid.Row="0" Grid.Column="1" Margin="5">
					<Button Content="+" Width="30" Background="#2ECC71" Foreground="White" Click="btnAddDisease_Click" DockPanel.Dock="Right" ToolTip="Thêm loại bệnh mới"/>
					<ComboBox x:Name="cbBenh" Height="30" DisplayMemberPath="Ten" SelectedValuePath="Id"/>
				</DockPanel>

				<Label Content="Địa điểm:" Grid.Row="0" Grid.Column="2" Foreground="Black" FontWeight="Normal"/>

				<Grid Grid.Row="0" Grid.Column="3" Margin="5">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>
					<ComboBox x:Name="cbTinh" Grid.Column="0" Height="30" Margin="0,0,2,0" 
                              DisplayMemberPath="Ten" SelectedValuePath="Id"
                              SelectionChanged="cbTinh_SelectionChanged" 
                              ToolTip="Chọn Tỉnh/Thành phố"/>
					<ComboBox x:Name="cbDonVi" Grid.Column="1" Height="30" Margin="2,0,0,0" 
                              DisplayMemberPath="Ten" SelectedValuePath="Id"
                              ToolTip="Chọn Quận/Huyện"/>
				</Grid>

				<Label Content="Số lượng mắc:" Grid.Row="1" Grid.Column="0" Foreground="Black" FontWeight="Normal"/>
				<TextBox x:Name="txtSoLuong" Grid.Row="1" Grid.Column="1" Height="30" Margin="5"/>

				<Label Content="Nguyên nhân:" Grid.Row="1" Grid.Column="2" Foreground="Black" FontWeight="Normal"/>
				<TextBox x:Name="txtNguyenNhan" Grid.Row="1" Grid.Column="3" Height="30" Margin="5"/>

				<Label Content="Tiêm phòng:" Grid.Row="2" Grid.Column="0" Foreground="Black" FontWeight="Normal"/>
				<CheckBox x:Name="chkVaccine" Content="Đã tiêm vaccine bao vây" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Margin="5" Foreground="Black" FontWeight="Normal"/>

				<Button Content="KHAI BÁO" x:Name="btnSave" Grid.Row="0" Grid.RowSpan="3" Grid.Column="4" 
                        Height="80" Margin="10,0,0,0" Background="#C0392B" Foreground="White" FontSize="14" FontWeight="Bold" Click="btnSave_Click"/>
			</Grid>
		</GroupBox>
	</Grid>
</UserControl>